# ユーザー情報

アカウント登録が可能なエンドユーザー。

## アカウント

メールアドレスとパスワードを使ってログイン可能な識別子を持つアカウント。

|名前|カラム名|情報|
|---|---|---|
|ID|id|ユーザーの識別子|
|メールアドレス|email|アプリケーション内でユニークなユーザー識別子。重複するアドレスは登録出来ない。<br />登録したメールアドレスに対しメールを送信し、所持確認を行うことが出来る。<br />※メール送信機能は現代において難しいため、所持確認を行うかどうかは要検討。|
|パスワード|hashed_password|ユーザーがログインするために必要なパスワード。 bcrypt の制約により、 72 文字以内である必要がある。<br />[BCrypt実装におけるpassword\_hash()の72文字目の正体](https://ipsec.jp/bcrypt%E5%AE%9F%E8%A3%85%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8Bpassword-hash-%E3%81%AE72%E6%96%87%E5%AD%97%E7%9B%AE%E3%81%AE%E6%AD%A3%E4%BD%93-e3b7e77facef)|
|ログイントークン|token|ヘッダーに設定するログイン用の識別子。セキュリティのため、定期的にロテートを推奨する。|
|ログイントークン有効期限|token_expired_at|現在のトークンの有効期限|

## ユーザー

ユーザーが持つ固有情報。数値は 64 bit unsigned integer を超える非常に大きなものも想定する。

|名前|カラム名|情報|
|---|---|---|
|ユーザーID|account_id|ユーザーID|
|表示名|display_name|他のユーザーにも見える表示名|
|レベル|level|ユーザーのレベル|
|経験値|exp|ユーザーの経験値|
|所持金|money|ユーザーの所持金|
|HP|hp|ユーザーの現在HP|
|最大HP|max_hp|ユーザーの最大HP|
|腕力|strength|ユーザーの腕力|
|持久力|vitality|ユーザーの持久力|
|素早さ|agility|ユーザーの素早さ|
|器用さ|dexterity|ユーザーの器用さ|

## 武器

|名前|カラム名|情報|
|---|---|---|
|ID|id|識別子|
|ユーザーID|user_id|ユーザーID|
|マスターID|master_id|武器マスターID|
|XP|xp|経験値(隠しパラメータ)|

## 武器マスター

|名前|カラム名|情報|
|---|---|---|
|マスターID|master_id|武器マスターID|
|名称|name|武器名称|
|説明|description|フレーバーテキスト|
|攻撃力|attack|基礎攻撃力|
|クリティカル確率|critical_rate|基礎クリティカル率(%)|
|クリティカル倍率|critical_multiplier|基礎クリティカル発生時のダメージ倍率(%)|
|XP増加率|xp_bonus_rate|XPボーナス率(%)|
|Capacity|capacity|絶対価値|

## 防具

|名前|カラム名|情報|
|---|---|---|
|ID|id|識別子|
|ユーザーID|user_id|ユーザーID|
|マスターID|master_id|防具マスターID|
|XP|xp|経験値(隠しパラメータ)|

## 防具マスター

|名前|カラム名|情報|
|---|---|---|
|マスターID|master_id|防具マスターID|
|名称|name|防具名称|
|説明|description|フレーバーテキスト|
|防御力|defense|基礎防御力|
|XP増加率|xp_bonus_rate|XPボーナス率(%)|
|Capacity|capacity|絶対価値|

## アクセサリ

|名前|カラム名|情報|
|---|---|---|
|ID|id|識別子|
|ユーザーID|user_id|ユーザーID|
|マスターID|master_id|アクセサリマスターID|
|XP|xp|経験値(隠しパラメータ)|

## アクセサリマスター

|名前|カラム名|情報|
|---|---|---|
|マスターID|master_id|アクセサリーマスターID|
|名称|name|アクセサリー名|
|説明|description|フレーバーテキスト|
|攻撃力|attack|基礎攻撃力|
|防御力|defense|基礎防御力|
|クリティカル確率|critical_rate|基礎クリティカル率(%)|
|クリティカル倍率|critical_multiplier|基礎クリティカル発生時のダメージ倍率(%)|
|XP増加率|xp_bonus_rate|XPボーナス率(%)|
|Capacity|capacity|絶対価値|
